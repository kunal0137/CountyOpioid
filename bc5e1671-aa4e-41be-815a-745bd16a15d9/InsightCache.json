{"engineId":"0d67d486-7a80-4a85-8277-0773a3fcf22b","engineName":"County_Opioid","rdbmsId":"bc5e1671-aa4e-41be-815a-745bd16a15d9","varstore":{},"frames":[{"file":"@BaseFolder@/db/@ENGINE@/version/bc5e1671-aa4e-41be-815a-745bd16a15d9/FRAME623445.rda","meta":"@BaseFolder@/db/@ENGINE@/version/bc5e1671-aa4e-41be-815a-745bd16a15d9/METADATA__FRAME623445.owl","state":"@BaseFolder@/db/@ENGINE@/version/bc5e1671-aa4e-41be-815a-745bd16a15d9/FRAME_STATE__FRAME623445.json","type":"prerna.ds.r.RDataTable","name":"FRAME623445","keys":["$CUR_FRAME_KEY","FRAME623445"]}],"panels":[{"panelId":"0","panelLabel":"County Vulnerable Rank in 2016 Based on CDC Assessment for HIV or HCV Outbreak","view":"visualization","viewOptions":"{\"type\":\"echarts\"}","viewOptionsMap":"{\"federate-view\":{\"app_id\":\"0d67d486-7a80-4a85-8277-0773a3fcf22b\"},\"visualization\":{\"type\":\"echarts\"}}","ornaments":"{\"tools\":{\"shared\":{\"chloroType\":\"Counties\"}}}","events":"{\"onSingleClick\":{\"Unfilter\":[{\"disabledVisuals\":[\"Grid\",\"Sunburst\"],\"default\":true,\"query\":\"UnfilterFrame(<SelectedColumn>);\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]},\"onBrush\":{\"Filter\":[{\"default\":true,\"query\":\"if(IsEmpty(<SelectedValues>), UnfilterFrame(<SelectedColumn>), SetFrameFilter(<SelectedColumn>==<SelectedValues>));\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]}}","comments":"{}","position":"{}","filters":[],"order":[],"cbv":{}}],"tasks":{"tasks":[{"type":"basic","task":{"taskType":"basic","id":"task1","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Grid\",\"alignment\":{\"label\":[\"COUNTY\",\"COUNTYDATAPIVOTED\",\"STATEABBREVIATION\",\"STATE_1\",\"YEAR\",\"vulnerable_rank\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","selectors":["COLUMN",{"table":"FRAME623445","column":"COUNTY","alias":"COUNTY","tableAlias":null},"COLUMN",{"table":"FRAME623445","column":"COUNTYDATAPIVOTED","alias":"COUNTYDATAPIVOTED","tableAlias":null},"COLUMN",{"table":"FRAME623445","column":"STATEABBREVIATION","alias":"STATEABBREVIATION","tableAlias":null},"COLUMN",{"table":"FRAME623445","column":"STATE_1","alias":"STATE_1","tableAlias":null},"COLUMN",{"table":"FRAME623445","column":"YEAR","alias":"YEAR","tableAlias":null},"COLUMN",{"table":"FRAME623445","column":"vulnerable_rank","alias":"vulnerable_rank","tableAlias":null}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"vulnerable_rank","column":"PRIM_KEY_PLACEHOLDER","alias":"vulnerable_rank","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}},{"type":"basic","task":{"taskType":"basic","id":"task3","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Grid\",\"alignment\":{\"label\":[\"COUNTY\",\"COUNTYDATAPIVOTED\",\"STATEABBREVIATION\",\"STATE_1\",\"YEAR\",\"vulnerable_rank\"]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","selectors":["COLUMN",{"table":"COUNTY","column":"PRIM_KEY_PLACEHOLDER","alias":"COUNTY","tableAlias":null},"COLUMN",{"table":"COUNTYDATAPIVOTED","column":"PRIM_KEY_PLACEHOLDER","alias":"COUNTYDATAPIVOTED","tableAlias":null},"COLUMN",{"table":"STATEABBREVIATION","column":"PRIM_KEY_PLACEHOLDER","alias":"STATEABBREVIATION","tableAlias":null},"COLUMN",{"table":"STATE_1","column":"PRIM_KEY_PLACEHOLDER","alias":"STATE_1","tableAlias":null},"COLUMN",{"table":"YEAR","column":"PRIM_KEY_PLACEHOLDER","alias":"YEAR","tableAlias":null},"COLUMN",{"table":"vulnerable_rank","column":"PRIM_KEY_PLACEHOLDER","alias":"vulnerable_rank","tableAlias":null}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"vulnerable_rank","column":"PRIM_KEY_PLACEHOLDER","alias":"vulnerable_rank","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}},{"type":"basic","task":{"taskType":"basic","id":"task5","numCollected":500,"internalOffset":0,"taskOptions":"{\"options\":{\"0\":{\"layout\":\"Choropleth\",\"alignment\":{\"label\":[\"COUNTY\"],\"value\":[\"Averageofvulnerable_rank\"],\"facet\":[]}}}}","qs":{"qsType":"FRAME","isDistinct":true,"overrideImplicit":false,"limit":0,"offset":0,"relations":"[]","groups":["{\"column\":\"PRIM_KEY_PLACEHOLDER\",\"table\":\"COUNTY\",\"alias\":\"\"}"],"selectors":["COLUMN",{"table":"COUNTY","column":"PRIM_KEY_PLACEHOLDER","alias":"COUNTY","tableAlias":null},"FUNCTION",{"alias":"Averageofvulnerable_rank","function":"mean","distinct":false,"colCast":"","innerSelectors":["COLUMN",{"table":"vulnerable_rank","column":"PRIM_KEY_PLACEHOLDER","alias":"vulnerable_rank","tableAlias":null}]}],"implicitFilters":["SIMPLE",{"left":{"pixelType":"COLUMN","class":"prerna.query.querystruct.selectors.QueryColumnSelector","value":["COLUMN",{"table":"vulnerable_rank","column":"PRIM_KEY_PLACEHOLDER","alias":"vulnerable_rank","tableAlias":null}],"opType":["OPERATION"]},"comparator":"!=","right":{"pixelType":"NULL_VALUE","class":null,"value":[null],"opType":["OPERATION"]}}]}}}],"taskCounter":6},"recipe":["AddPanel ( 0 ) ;","Panel ( 0 ) | AddPanelEvents ( { \"onSingleClick\" : { \"Unfilter\" : [ { \"panel\" : \"\" , \"query\" : \"UnfilterFrame(%3CSelectedColumn%3E)%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabledVisuals\" : [ \"Grid\" , \"Sunburst\" ] , \"disabled\" : false } ] } , \"onBrush\" : { \"Filter\" : [ { \"panel\" : \"\" , \"query\" : \"if(IsEmpty(%3CSelectedValues%3E)%2C%20UnfilterFrame(%3CSelectedColumn%3E)%2C%20SetFrameFilter(%3CSelectedColumn%3E%3D%3D%3CSelectedValues%3E))%3B\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabled\" : false } ] } } ) ;","Panel ( 0 ) | RetrievePanelEvents ( ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" , \"%7B%22type%22%3A%22echarts%22%7D\" ) ;","Panel ( 0 ) | SetPanelView ( \"federate-view\" , \"%7B%22app_id%22%3A%220d67d486-7a80-4a85-8277-0773a3fcf22b%22%7D\" ) ;","CreateFrame ( frameType = [ R ] , override = [ true ] ) .as ( [ 'FRAME623445' ] ) ;","Database ( database = [ \"0d67d486-7a80-4a85-8277-0773a3fcf22b\" ] ) | Select ( COUNTYDATAPIVOTED , COUNTYDATAPIVOTED__COUNTY , COUNTYDATAPIVOTED__vulnerable_rank , COUNTYDATAPIVOTED__STATEABBREVIATION , COUNTYDATAPIVOTED__STATE_1 , COUNTYDATAPIVOTED__YEAR ) .as ( [ COUNTYDATAPIVOTED , COUNTY , vulnerable_rank , STATEABBREVIATION , STATE_1 , YEAR ] ) | Import ( frame = [ FRAME623445 ] ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;","Frame ( frame = [ FRAME623445 ] ) | QueryAll ( ) | AutoTaskOptions ( panel = [ \"0\" ] , layout = [ \"Grid\" ] ) | Collect ( 500 ) ;","ReplaceFrameFilter ( ( vulnerable_rank != [ null ] ) ) ;","ifError ( ( Frame ( ) | Select ( COUNTY , COUNTYDATAPIVOTED , STATEABBREVIATION , STATE_1 , YEAR , vulnerable_rank ) .as ( [ COUNTY , COUNTYDATAPIVOTED , STATEABBREVIATION , STATE_1 , YEAR , vulnerable_rank ] ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Grid\" , \"alignment\" : { \"label\" : [ \"COUNTY\" , \"COUNTYDATAPIVOTED\" , \"STATEABBREVIATION\" , \"STATE_1\" , \"YEAR\" , \"vulnerable_rank\" ] } } } ) | Collect ( 500 ) ) , ( true ) ) ;","Panel ( 0 ) | SetPanelView ( \"visualization\" , \"%7B%22type%22%3A%22echarts%22%7D\" ) ;","if ( ( HasDuplicates ( COUNTY ) ) , ( Select ( COUNTY , Average ( vulnerable_rank ) ) .as ( [ COUNTY , Averageofvulnerable_rank ] ) | Group ( COUNTY ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Choropleth\" , \"alignment\" : { \"label\" : [ \"COUNTY\" ] , \"value\" : [ \"Averageofvulnerable_rank\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( COUNTY , vulnerable_rank ) .as ( [ COUNTY , vulnerable_rank ] ) | With ( Panel ( 0 ) ) | Format ( type = [ 'table' ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Choropleth\" , \"alignment\" : { \"label\" : [ \"COUNTY\" ] , \"value\" : [ \"vulnerable_rank\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;","Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"chloroType\" : Counties } } } ) ;","Panel ( 0 ) | RetrievePanelOrnaments ( \"tools.shared.chloroType\" ) ;","Panel ( 0 ) | SetPanelLabel ( \"County Vulnerable Rank in 2016 Based on CDC Assessment for HIV or HCV Outbreak\" ) ;"]}